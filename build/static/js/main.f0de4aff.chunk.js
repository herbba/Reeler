(this.webpackJsonpimdb2=this.webpackJsonpimdb2||[]).push([[0],{14:function(e,t,a){},27:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVRYhe3WUQ0AIAzE0I7gCLcgFmQcyfoMrF+XgborYKUDbjJgJI9/ESCpgJ0O6L2EEzjpCKk3hygeEH/LpQcVIwSt1p/6YAAAAABJRU5ErkJggg=="},30:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(12),r=a.n(l),s=a(9),o=a(3),i=Object(o.a)(),m=a(2),u=(a(14),a.p+"static/media/loader.488387b4.gif"),d=a.p+"static/media/logo.b21dc2dc.png",E=a(27),h=a.n(E),p=function(e){var t=e.isShowing,a=e.hide,n=e.register;return t?r.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-overlay"}),c.a.createElement("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("img",{className:"modal-logo",src:d,alt:"logo"}),c.a.createElement("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:a},c.a.createElement("span",{className:"modal-span","aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-email"},c.a.createElement("label",{className:"email-label",htmlFor:"email-input"}," ","Email"," "),c.a.createElement("input",{id:"email-input"})),c.a.createElement("div",{className:"modal-password"},c.a.createElement("label",{className:"password-label",htmlFor:"password-input"}," ","Password"," "),c.a.createElement("input",{id:"password-input"})),c.a.createElement("div",{className:"modal-confirm".concat(n?"":" hide")},c.a.createElement("label",{className:"confirm-label",htmlFor:"confirm-input"}," ","Confirm password"," "),c.a.createElement("input",{id:"confirm-input"})),c.a.createElement("div",{className:"modal-button".concat(n?" hide":"")},c.a.createElement("button",{id:"modal-login"},"Log in")),c.a.createElement("div",{className:"modal-button".concat(n?"":" hide")},c.a.createElement("button",{id:"modal-register"},"Register"))))),document.body):null},g=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),r=Object(m.a)(l,2),s=r[0],o=r[1];return{register:s,isShowing:a,toggle:function(e){o(!!e),c(!a)}}},f=a(8),b=a(7),N=a.n(b),v={cancelToken:N.a.CancelToken.source(),isCancel:function(e){return N.a.isCancel(e)}},A=function(e){return N.a.get("".concat("http://206.189.28.120:5000/search?q=").concat(e)).then((function(e){return e.data}))},j=function(e){var t=Object(n.useState)({}),a=Object(m.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(!1),E=Object(m.a)(o,2),b=E[0],N=E[1],j=Object(n.useState)(""),O=Object(m.a)(j,2),y=O[0],k=O[1],w=Object(n.useState)(!!i.location.search),C=Object(m.a)(w,2),S=C[0],x=C[1],I=Object(n.useState)(""),T=Object(m.a)(I,2),B=T[0],F=T[1],R=Object(n.useState)(i.location.search?decodeURI(i.location.search.substring(3)):""),J=Object(m.a)(R,2),L=J[0],Y=J[1],q=Object(n.useState)(!0),Q=Object(m.a)(q,2),U=Q[0],D=Q[1],M=g(),K=M.isShowing,z=M.toggle,H=M.register;Object(n.useEffect)((function(){x(!!(i.location.pathname.includes("search")||i.location.pathname.includes("titles")||i.location.pathname.includes("names")))}),[]);var P=function(e){"register"===e.currentTarget.id?z(!0):z(!1)};return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header".concat(S?"-up":"-down")},c.a.createElement("div",{className:"header-left".concat(S?"-up":"-down")},c.a.createElement(f.a,{to:"/"},c.a.createElement("img",{className:"menu".concat(S?"":" hide"),src:h.a,alt:"menu",onClick:function(){x(!1),r({}),Y("")}}))),c.a.createElement("div",{className:"header-middle".concat(S?"-up":"-down")},c.a.createElement("div",{className:"".concat(S?"hide":"logo-text")},c.a.createElement("img",{className:"logo",src:d,alt:"Logo"}),c.a.createElement("p",{className:"text"},"Reel in the movies")),c.a.createElement("div",{className:"search-bar"},c.a.createElement("label",{className:"search-label",htmlFor:"search-input"},c.a.createElement("input",{type:"text",value:L,name:"query",id:"search-input".concat(S?"-up":"-down"),onChange:function(e){D(!1),Y(e.target.value),function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;B&&B.cancel(),F(v.cancelToken),A(e).then((function(e){var t=e.results.length?"":"ei oo mit\xe4\xe4n muuta";r(e.results),k(t),N(!1)})).catch((function(e){(v.isCancel(e)||e)&&(N(!1),k("EI L\xd6YTYNY DATAA fetchSearchResults"))}))}(e.target.value)},onKeyDown:function(e){"13"!==e.keyCode&&"Enter"!==e.key||L&&(x(!0),D(!0))}}),c.a.createElement(f.a,{to:{pathname:"/search?q=".concat(L),state:{results:l}}},c.a.createElement("button",{id:"search-button".concat(S?"-up":"-down"),onClick:function(){x(!0)}},c.a.createElement("i",{className:"fa fa-search"})))))),c.a.createElement("div",{className:"header-right".concat(S?"-up":"-down")},c.a.createElement("button",{id:"register",onClick:P},"Register"),c.a.createElement("button",{id:"login",onClick:P},"Log in"))),c.a.createElement(p,{isShowing:K,hide:z,register:H}),y&&c.a.createElement("p",{className:"message"},y),c.a.createElement("img",{src:u,className:"search-loading ".concat(b?"show":"hide"),alt:"loader"}),U&&l.length?c.a.createElement(s.a,{to:{pathname:"/search?q=".concat(L),state:{results:l}}}):c.a.createElement(c.a.Fragment,null))},O=function(e){return N.a.get("".concat("http://206.189.28.120:5000/titles/").concat(e)).then((function(e){return e.data}))},y=function(e){var t=e.location.state.itemId,a=Object(n.useState)({}),l=Object(m.a)(a,2),r=l[0],s=l[1];Object(n.useEffect)((function(){O(t).then((function(e){return s(e)}))}),[t]);return c.a.createElement("div",{className:"movieContainer"},c.a.createElement("p",{className:"resultItem link",onClick:function(){return i.goBack()}},"Back"),c.a.createElement("div",{className:"movieHeader"},c.a.createElement("p",{className:"paddedText"},r.titletype),c.a.createElement("h1",{className:"paddedText"},r.primarytitle),r.endyear?c.a.createElement("h2",{className:"paddedText"},r.startyear," - ",r.endyear):c.a.createElement("h3",{className:"paddedText"},r.startyear),c.a.createElement("div",{className:"movieInfo"},function(){var e=r.runtimeminutes/60,t=Math.floor(e),a=60*(e-t),n=Math.round(a);return 0===t&&0===n?null:0===t&&0!==n?n+" min | ":0!==t&&0===n?t+" h | ":t+" h "+n+" min | "}(),r.genres?r.genres.join(", "):"")))},k=function(e){return N.a.get("".concat("http://206.189.28.120:5000/names/").concat(e)).then((function(e){return e.data}))},w=function(e){var t=e.location.state.itemId,a=Object(n.useState)({}),l=Object(m.a)(a,2),r=l[0],s=l[1];Object(n.useEffect)((function(){k(t).then((function(e){return s(e)}))}),[t]);return c.a.createElement("div",{className:"movieContainer"},c.a.createElement("p",{className:"resultItem link",onClick:function(){return i.goBack()}},"Back"),c.a.createElement("div",{className:"movieHeader"},c.a.createElement("h1",{className:"paddedText"},r.primaryname),c.a.createElement("p",{className:"paddedText"},r.primaryprofession?r.primaryprofession.replace(/,/g,", "):""),c.a.createElement("div",{className:"paddedText"},c.a.createElement("p",null,"Born: ",r.birthyear?r.birthyear:"unknown"),c.a.createElement("p",null,r.deathyear?"Died: "+r.deathyear:""))),c.a.createElement("div",null,c.a.createElement("h2",{className:"paddedText"},"Filmography"),c.a.createElement("ul",null,r.knownfortitles?r.knownfortitles.map((function(e){return c.a.createElement("li",{className:"filmography",key:e},c.a.createElement(f.a,{className:"filmography",to:{pathname:"/titles/".concat(e),state:{itemId:e}}},e))})):"")))},C=function(e){var t=Object(n.useState)(4),a=Object(m.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)(4),o=Object(m.a)(s,2),i=o[0],u=o[1],d=e.location.state.results?e.location.state.results.filter((function(e){return e.includes("tt")})):{},E=e.location.state.results?e.location.state.results.filter((function(e){return e.includes("nm")})):{},h=function(e,t,a,n){return c.a.createElement("div",null,c.a.createElement("h2",{className:"paddedText"},"tt"===e?"Movies":"Actors"),c.a.createElement("ul",null,function(e,t,a){return e.slice(0,t).map((function(e){return c.a.createElement("li",{key:e},c.a.createElement(f.a,{to:{pathname:"".concat(a).concat(e),state:{itemId:e}}},c.a.createElement("p",{className:"resultItem link"},e)))}))}(t,a,n)),t&&t.length>a?c.a.createElement("p",{className:"resultItem link",onClick:function(){return function(e){"tt"===e?r(l+4):u(i+4)}(e)}},"More results"):c.a.createElement(c.a.Fragment,null))};return c.a.createElement("div",{className:"results"},h("tt",d,l,"/titles/"),h("nm",E,i,"/names/"))},S=function(){return c.a.createElement(s.c,{history:i},c.a.createElement(j,null),c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/search",component:C}),c.a.createElement(s.b,{exact:!0,path:"/search?q=:query",component:C}),c.a.createElement(s.b,{exact:!0,path:"/titles/:id",component:y}),c.a.createElement(s.b,{exact:!0,path:"/names/:id",component:w})))};r.a.render(c.a.createElement(S,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.f0de4aff.chunk.js.map