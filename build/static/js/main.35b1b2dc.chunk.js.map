{"version":3,"sources":["images/menu.png","history.js","loader.gif","images/logo.png","components/Modal.js","components/useModal.js","services/cancel.js","services/searchResults.js","components/Search.js","components/MoviePage.js","services/titles.js","components/ActorPage.js","services/names.js","components/SearchResult.js","App.js","index.js"],"names":["module","exports","createBrowserHistory","Modal","isShowing","hide","register","ReactDOM","createPortal","Fragment","className","aria-modal","aria-hidden","tabIndex","role","src","Logo","alt","type","data-dismiss","aria-label","onClick","htmlFor","id","document","body","useModal","useState","setIsShowing","setRegister","toggle","cancelToken","axios","CancelToken","source","isCancel","error","query","get","then","response","data","Search","props","results","setResults","loading","setLoading","message","setMessage","history","location","search","setSearch","cancel","setCancel","decodeURI","substring","setQuery","enter","setEnter","useEffect","pathname","includes","handleSearch","q","cancelService","searchService","res","resultNotFoundMsg","length","catch","fetchSearchResults","handleToggle","event","currentTarget","to","Menu","value","name","onChange","target","onKeyDown","e","keyCode","key","Loader","state","visibility","MoviePage","movie","setMovie","goBack","titletype","primarytitle","endyear","startyear","hours","runtimeminutes","rhours","Math","floor","minutes","rminutes","round","runTimeToHours","genres","join","ActorPage","actor","setActor","titles","setTitles","requests","knownfortitles","map","titleService","all","spread","responses","primaryname","primaryprofession","replace","birthyear","deathyear","t","tconst","itemId","SearchResult","mVisible","setMVisible","aVisible","setAVisible","names","setNames","movieIds","filter","item","actorIds","getTitles","getNames","slice","nameService","err","console","log","resultDiv","baseUrl","visible","isadult","originaltitle","n","nconst","const","mapListItems","loadMore","App","exact","path","component","render","getElementById"],"mappings":"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","file":"static/js/main.35b1b2dc.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVRYhe3WUQ0AIAzE0I7gCLcgFmQcyfoMrF+XgborYKUDbjJgJI9/ESCpgJ0O6L2EEzjpCKk3hygeEH/LpQcVIwSt1p/6YAAAAABJRU5ErkJggg==\"","// src/history.js\n\nimport { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","export default __webpack_public_path__ + \"static/media/loader.488387b4.gif\";","export default __webpack_public_path__ + \"static/media/logo.b21dc2dc.png\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Logo from '../images/logo.png';\n\nconst Modal = ({ isShowing, hide, register }) =>\n  isShowing\n    ? ReactDOM.createPortal(\n        <React.Fragment>\n          <div className='modal-overlay' />\n          <div\n            className='modal-wrapper'\n            aria-modal\n            aria-hidden\n            tabIndex={-1}\n            role='dialog'\n          >\n            <div className='modal'>\n              <div className='modal-header'>\n                <img className='modal-logo' src={Logo} alt='logo'></img>\n                <button\n                  type='button'\n                  className='modal-close-button'\n                  data-dismiss='modal'\n                  aria-label='Close'\n                  onClick={hide}\n                >\n                  <span className='modal-span' aria-hidden='true'>\n                    &times;\n                  </span>\n                </button>\n              </div>\n              <div className='modal-email'>\n                <label className='email-label' htmlFor='email-input'>\n                  {' '}\n                  Email{' '}\n                </label>\n                <input id='email-input' />\n              </div>\n              <div className='modal-password'>\n                <label className='password-label' htmlFor='password-input'>\n                  {' '}\n                  Password{' '}\n                </label>\n                <input id='password-input' />\n              </div>\n              <div className={`modal-confirm${register ? '' : ' hide'}`}>\n                <label className='confirm-label' htmlFor='confirm-input'>\n                  {' '}\n                  Confirm password{' '}\n                </label>\n                <input id='confirm-input' />\n              </div>\n              <div className={`modal-button${register ? ' hide' : ''}`}>\n                <button id='modal-login'>Log in</button>\n              </div>\n              <div className={`modal-button${register ? '' : ' hide'}`}>\n                <button id='modal-register'>Register</button>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>,\n        document.body\n      )\n    : null;\n\nexport default Modal;\n","import { useState } from 'react';\n\nconst useModal = () => {\n  const [isShowing, setIsShowing] = useState(false);\n  const [register, setRegister] = useState(false);\n\n  function toggle(register) {\n    if (register) {\n      setRegister(true);\n    } else {\n      setRegister(false);\n    }\n    setIsShowing(!isShowing);\n  }\n\n  return {\n    register,\n    isShowing,\n    toggle,\n  };\n};\n\nexport default useModal;\n","import axios from 'axios';\n\nconst cancelToken = axios.CancelToken.source();\n\nconst isCancel = error => {\n  return axios.isCancel(error);\n};\n\nexport default { cancelToken, isCancel };\n","import axios from 'axios';\n//const baseUrl = `https://pixabay.com/api/?key=15763483-e44bd7d1a782b77b7b8429d3f&q=`;\nconst baseUrl = `http://206.189.28.120:5000/search?q=`;\n\nconst getResults = (query) => {\n  const request = axios.get(`${baseUrl}${query}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getResults };\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState, useEffect } from 'react';\nimport '../Search.css';\nimport Loader from '../loader.gif';\nimport Logo from '../images/logo.png';\nimport Menu from '../images/menu.png';\nimport Modal from './Modal';\nimport useModal from './useModal';\nimport history from '../history';\nimport { Link, Redirect } from 'react-router-dom';\nimport cancelService from '../services/cancel';\nimport searchService from '../services/searchResults';\n\nconst Search = (props) => {\n  const [results, setResults] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [search, setSearch] = useState(history.location.search ? true : false);\n  const [cancel, setCancel] = useState('');\n  const [query, setQuery] = useState(\n    history.location.search\n      ? decodeURI(history.location.search.substring(3))\n      : ''\n  );\n  const [enter, setEnter] = useState(true);\n  const { isShowing, toggle, register } = useModal();\n\n  /**\n   * on component mount, if url has search, title or name in it,\n   * show the search bar on top\n   */\n  useEffect(() => {\n    setSearch(\n      history.location.pathname.includes('search') ||\n        history.location.pathname.includes('titles') ||\n        history.location.pathname.includes('names')\n        ? true\n        : false\n    );\n  }, []);\n\n  useEffect(() => {}, [query]);\n\n  /**\n   * Fetch the search results and update the state with the result.\n   * Also cancels the previous query before making the new one.\n   *\n   * @param {int} updatedPageNo Updated Page No.\n   * @param {String} query Search Query.\n   *\n   */\n  const fetchSearchResults = (q) => {\n    //const pageNumber = updatedPageNo ? `&page=${updatedPageNo}` : '';\n\n    if (cancel) {\n      cancel.cancel();\n    }\n\n    setCancel(cancelService.cancelToken);\n\n    searchService\n      .getResults(q)\n      .then((res) => {\n        const resultNotFoundMsg = !res.results.length\n          ? 'ei oo mitään muuta'\n          : '';\n        setResults(res.results);\n        setMessage(resultNotFoundMsg);\n        setLoading(false);\n        setEnter(true);\n      })\n      .catch((error) => {\n        if (cancelService.isCancel(error) || error) {\n          setLoading(false);\n          setMessage('EI LÖYTYNY DATAA');\n        }\n      });\n  };\n\n  /**\n   * When enter is pressed search bar to the top and\n   * enter sets to true\n   * @param {*} event default event on input change\n   */\n  const handleOnInputChange = (event, q) => {\n    if (event.keyCode === '13' || event.key === 'Enter') {\n      handleSearch(q);\n    }\n  };\n\n  /** Shows loading-indicator\n   * sets the search bar on top\n   * fetches search results\n   * switches router to searchresults */\n  const handleSearch = (q) => {\n    if (q) {\n      setLoading(true);\n      setSearch(true);\n      fetchSearchResults(q);\n      setEnter(true);\n    }\n  };\n\n  /**\n   * handle popup-toggling between register and login\n   * @param {*} event default event when button is clicked\n   */\n  const handleToggle = (event) => {\n    if (event.currentTarget.id === 'register') {\n      toggle(true);\n    } else {\n      toggle(false);\n    }\n  };\n\n  /**\n   * event handler for clicking on menu\n   * TODO: correct functionality\n   */\n  const handleMenu = () => {\n    setLoading(false);\n    setMessage('');\n    setSearch(false);\n    setResults({});\n    setQuery('');\n  };\n\n  return (\n    <div className='container'>\n      {/*\tHeading*/}\n      <div className={`header${search ? '-up' : '-down'}`}>\n        {/* Header left */}\n        <div className={`header-left${search ? '-up' : '-down'}`}>\n          <Link to='/'>\n            <img\n              className={`menu${search ? '' : ' hide'}`}\n              src={Menu}\n              alt='menu'\n              onClick={handleMenu}\n            />\n          </Link>\n        </div>\n        {/* Header middle */}\n        <div className={`header-middle${search ? '-up' : '-down'}`}>\n          <div className={`${search ? 'hide' : 'logo-text'}`}>\n            <img className='logo' src={Logo} alt='Logo'></img>\n            <p className='text'>Reel in the movies</p>\n          </div>\n          {/* Search Input */}\n          <div className='search-bar'>\n            <label className='search-label' htmlFor='search-input'>\n              <input\n                type='text'\n                value={query}\n                name='query'\n                id={`search-input${search ? '-up' : '-down'}`}\n                onChange={(event) => {\n                  setEnter(false);\n                  setQuery(event.target.value);\n                  //fetchSearchResults(event.target.value);\n                }}\n                onKeyDown={(e) => handleOnInputChange(e, query)}\n              />\n              {/*On button click switch router*/}\n              <button\n                id={`search-button${search ? '-up' : '-down'}`}\n                onClick={() => {\n                  handleSearch(query);\n                }}\n              >\n                <i className='fa fa-search'></i>\n              </button>\n            </label>\n          </div>\n        </div>\n        {/* Header right */}\n        <div className={`header-right${search ? '-up' : '-down'}`}>\n          <button id='register' onClick={handleToggle}>\n            Register\n          </button>\n          <button id='login' onClick={handleToggle}>\n            Log in\n          </button>\n        </div>\n      </div>\n      {/*Pop-up*/}\n      <Modal isShowing={isShowing} hide={toggle} register={register} />\n      {/*\tError Message*/}\n      {message && <p className='message'>{message}</p>}\n      {/*\tLoader*/}\n      <img\n        src={Loader}\n        className={`search-loading ${loading ? 'show' : 'hide'}`}\n        alt='loader'\n      />\n      {/* if enter is pressed and there is results, switch router */}\n      {enter && results.length ? (\n        <Redirect\n          to={{\n            pathname: `/search?q=${query}`,\n            state: { results: results, visibility: 4 },\n          }}\n        />\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n};\nexport default Search;\n","import React, { useState, useEffect } from 'react';\nimport history from '../history';\n\nconst MoviePage = (props) => {\n  const [movie, setMovie] = useState({});\n\n  /* when movieId changes, gets movie's data */\n  useEffect(() => {\n    setMovie(props.location.state);\n  }, [props.location.state]);\n\n  /* calculates minutes to hours and minutes. Doesn't show ex. 0h 10min or 2h 0min*/\n  const runTimeToHours = () => {\n    const runtime = movie.runtimeminutes;\n    const hours = runtime / 60;\n    const rhours = Math.floor(hours);\n    const minutes = (hours - rhours) * 60;\n    const rminutes = Math.round(minutes);\n    const returnvalue =\n      rhours === 0 && rminutes === 0\n        ? null\n        : rhours === 0 && rminutes !== 0\n        ? rminutes + ' min | '\n        : rhours !== 0 && rminutes === 0\n        ? rhours + ' h | '\n        : rhours + ' h ' + rminutes + ' min | ';\n    return returnvalue;\n  };\n\n  return (\n    <div className='movieContainer'>\n      {/*On click goes back to the previous page*/}\n      <p className='resultItem link' onClick={() => history.goBack()}>\n        Back\n      </p>\n      <div className='movieHeader'>\n        <p className='paddedText'>{movie.titletype}</p>\n        <h1 className='paddedText'>{movie.primarytitle}</h1>\n        {movie.endyear ? (\n          <h2 className='paddedText'>\n            {movie.startyear} - {movie.endyear}\n          </h2>\n        ) : (\n          <h3 className='paddedText'>{movie.startyear}</h3>\n        )}\n        <div className='movieInfo'>\n          {runTimeToHours()}\n          {movie.genres ? movie.genres.join(', ') : ''}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n//const baseUrl = `https://pixabay.com/api/?key=15763483-e44bd7d1a782b77b7b8429d3f&q=`;\nconst baseUrl = `http://206.189.28.120:5000/titles/`;\n\nconst getTitle = (id) => {\n  const request = axios.get(`${baseUrl}${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getTitle };\n","import React, { useState, useEffect } from 'react';\n\nimport { Link } from 'react-router-dom/';\nimport history from '../history';\nimport axios from 'axios';\nimport titleService from '../services/titles';\n\nconst ActorPage = (props) => {\n  const [actor, setActor] = useState({});\n  const [titles, setTitles] = useState([]);\n\n/* const knownForIds = props.location.state.results\n    ? props.location.state.results.filter((item) => item.includes('tt'))\n    : {}; */\n    \n  /* when location.props.state is changed, sets the state to actors and\n  * gets the data for knownfor titles\n   */\n  useEffect(() => {\n    setActor(props.location.state);\n    const requests = props.location.state.knownfortitles.map(id => titleService.getTitle(id)) \n    axios.all(requests).then(axios.spread((...responses) => setTitles(responses)))\n\n  }, [props.location.state]);\n\n\n  /* if actor has known titles, lists the links to them */\n  const mapFilmo = () => {\n    return titles\n      ? titles.map((t) => (\n          <li className='filmography' key={t.tconst}>\n            {/* If link clicked, switch routes */}\n            <Link\n              className='filmography'\n              to={{\n                pathname: `/titles/${t.tconst}`,\n                state: { itemId: t.tconst },\n              }}\n            >\n              {t.primarytitle}\n            </Link>\n          </li>\n        ))\n      : '';\n  };\n\n  /* if actor has professions, adds spaces bewteen the commas */\n  const styleProfession = () => {\n    return actor.primaryprofession\n      ? actor.primaryprofession.replace(/,/g, ', ')\n      : '';\n  };\n\n  return (\n    <div className='movieContainer'>\n      {/*On click goes back to the previous page*/}\n      <p className='resultItem link' onClick={() => history.goBack()}>\n        Back\n      </p>\n\n      <div className='movieHeader'>\n        <h1 className='paddedText'>{actor.primaryname}</h1>\n        <p className='paddedText'>{styleProfession()}</p>\n        <div className='paddedText'>\n          <p>Born: {actor.birthyear ? actor.birthyear : 'unknown'}</p>\n          <p>{actor.deathyear ? 'Died: ' + actor.deathyear : ''}</p>\n        </div>\n      </div>\n      <div>\n        <h2 className='paddedText'>Filmography</h2>\n        <ul>{mapFilmo()}</ul>\n      </div>\n    </div>\n  );\n};\n\nexport default ActorPage;\n","import axios from 'axios';\n//const baseUrl = `https://pixabay.com/api/?key=15763483-e44bd7d1a782b77b7b8429d3f&q=`;\nconst baseUrl = `http://206.189.28.120:5000/names/`;\n\nconst getName = (id) => {\n  const request = axios.get(`${baseUrl}${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getName };\n","/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom/';\nimport '../Search.css';\nimport '../Search.css';\nimport titleService from '../services/titles';\nimport nameService from '../services/names';\nimport axios from 'axios';\nimport Loader from '../loader.gif';\n\nconst SearchResult = (props) => {\n  const [loading, setLoading] = useState(false);\n  const [mVisible, setMVisible] = useState(4);\n  const [aVisible, setAVisible] = useState(4);\n  const [titles, setTitles] = useState([]);\n  const [names, setNames] = useState([]);\n  const movieIds = props.location.state.results\n    ? props.location.state.results.filter((item) => item.includes('tt'))\n    : {};\n  const actorIds = props.location.state.results\n    ? props.location.state.results.filter((item) => item.includes('nm'))\n    : {};\n\n  /** when results changes, gets the movies' data */\n  /** DO NOT ADD THE MISSING DEPENDENCIES*/\n  useEffect(() => {\n    getTitles();\n    getNames();\n  }, [props.location.state.results]);\n\n  /** when movies' visibility is changed, gets the movies' data  */\n  /** DO NOT ADD THE MISSING DEPENDENCY 'movieIds', creates infinite rendering*/\n  useEffect(() => {\n    getTitles();\n  }, [mVisible]);\n\n  /** when actors' visibility is changed, gets the actors' data */\n  /** DO NOT ADD THE MISSING DEPENDENCY 'actorIds', creates infinite rendering*/\n  useEffect(() => {\n    getNames();\n  }, [aVisible]);\n\n  /** gets the movies' data */\n  const getTitles = () => {\n    setTitles([]);\n    const requests = movieIds\n      .slice(0, mVisible)\n      .map((id) => titleService.getTitle(id));\n    axios\n      .all(requests)\n      .then(axios.spread((...responses) => setTitles(responses)));\n    setLoading(false);\n  };\n\n  /** gets the actors' data */\n  const getNames = () => {\n    setNames([]);\n    const requests = actorIds\n      .slice(0, aVisible)\n      .map((id) => nameService.getName(id));\n    axios\n      .all(requests)\n      .then(axios.spread((...responses) => setNames(responses)))\n      .catch((err) => console.log('error', err));\n    setLoading(false);\n  };\n\n  /** how many results are shown in each section\n   * @param {*} type tt = movies, nm = actors\n   */\n  const loadMore = (type) => {\n    setLoading(true);\n    type === 'Movies' ? setMVisible(mVisible + 4) : setAVisible(aVisible + 4);\n  };\n\n  /** creates the link list items for results\n   * @param {*} type tt = movies, nm = actors\n   * @param {*} visible how many results are shown\n   * @param {*} baseUrl /titles/ for movies, /names/ for actors\n   */\n  const mapListItems = (type, visible, baseUrl) => {\n    return type === 'Movies'\n      ? titles.map((t) => (\n          <li key={t.tconst}>\n            {/* When link clicked, switches routes */}\n            <Link\n              to={{\n                pathname: `${baseUrl}${t.tconst}`,\n                state: {\n                  endyear: t.endyear,\n                  genres: t.genres,\n                  isadult: t.isadult,\n                  originaltitle: t.originaltitle,\n                  primarytitle: t.primarytitle,\n                  runtimeminutes: t.runtimeminutes,\n                  startyear: t.startyear,\n                  tconst: t.tconst,\n                  titletype: t.titletype,\n                },\n              }}\n            >\n              <p className='resultItem link'>\n                {t.primarytitle} ({t.startyear}) {t.titletype}\n              </p>\n            </Link>\n          </li>\n        ))\n      : names.map((n) => (\n          <li key={n.nconst}>\n            {/* When link clicked, switches routes */}\n            <Link\n              to={{\n                pathname: `${baseUrl}${n.nconst}`,\n                state: {\n                  birthyear: n.birthyear,\n                  deathyear: n.deathyear,\n                  knownfortitles: n.knownfortitles,\n                  nconst: n.nconst,\n                  primaryname: n.primaryname,\n                  primaryprofession: n.primaryprofession,\n                  itemId: n.const,\n                },\n              }}\n            >\n              <p className='resultItem link'>\n                {n.primaryname} ({n.birthyear}) {n.primaryprofession}\n              </p>\n            </Link>\n          </li>\n        ));\n  };\n\n  /* Shows the right results according to the result id */\n  const resultDiv = (type, data, visibility, baseUrl) => (\n    <div>\n      <h2 className='paddedText'>{type}</h2>\n      <ul>{mapListItems(type, visibility, baseUrl)}</ul>\n      {data && data.length > visibility ? (\n        <p className='resultItem link' onClick={() => loadMore(type)}>\n          More results\n        </p>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n\n  return (\n    <div className='results'>\n      {/*\tLoader*/}\n      <img\n        src={Loader}\n        className={`search-loading ${loading ? 'show' : 'hide'}`}\n        alt='loader'\n      />\n      {resultDiv('Movies', movieIds, mVisible, '/titles/')}\n      {resultDiv('Actors', actorIds, aVisible, '/names/')}\n    </div>\n  );\n};\n\nexport default SearchResult;\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from './history';\nimport Search from './components/Search';\nimport MoviePage from './components/MoviePage';\nimport ActorPage from './components/ActorPage';\nimport SearchResult from './components/SearchResult';\n\nconst App = () => {\n  return (\n    <Router history={history}>\n      <Search />\n      <Switch>\n        <Route exact path='/search' component={SearchResult} />\n        <Route exact path='/search?q=:query' component={SearchResult} />\n        <Route exact path='/titles/:id' component={MoviePage} />\n        <Route exact path='/names/:id' component={ActorPage} />\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}