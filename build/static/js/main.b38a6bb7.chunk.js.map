{"version":3,"sources":["images/menu.png","loader.gif","images/logo.png","services/searchResults.js","services/cancel.js","services/titles.js","components/SearchResult.js","components/Modal.js","components/useModal.js","components/MoviePage.js","components/Search.js","App.js","index.js"],"names":["module","exports","query","axios","get","then","response","data","cancelToken","CancelToken","source","isCancel","error","id","SearchResult","results","onItemClick","useState","mVisible","setMVisible","aVisible","setAVisible","filter","result","charAt","movies","actors","loadMore","type","resultDiv","visibility","visible","slice","map","res","key","className","onClick","e","mapResults","length","Modal","isShowing","hide","register","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","role","src","Logo","alt","data-dismiss","aria-label","htmlFor","document","body","useModal","setIsShowing","setRegister","toggle","MoviePage","mov","primarytitle","endyear","startyear","hours","runtimeminutes","rhours","Math","floor","minutes","round","runTimeToHours","genres","join","Search","setResults","loading","setLoading","message","setMessage","item","setItem","setItemType","cancel","setCancel","search","setSearch","fetchSearchResults","cancelService","searchService","resultNotFoundMsg","catch","itemUpdate","itemId","preventDefault","titleService","titletype","trim","console","log","handleToggle","event","currentTarget","Menu","name","onKeyDown","keyCode","target","value","getElementById","Loader","Object","keys","showSearchResults","App","render"],"mappings":"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","file":"static/js/main.b38a6bb7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAAQElEQVRYhe3WUQ0AIAzE0I7gCLcgFmQcyfoMrF+XgborYKUDbjJgJI9/ESCpgJ0O6L2EEzjpCKk3hygeEH/LpQcVIwSt1p/6YAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/loader.488387b4.gif\";","export default __webpack_public_path__ + \"static/media/logo.b21dc2dc.png\";","import axios from 'axios';\r\n//const baseUrl = `https://pixabay.com/api/?key=15763483-e44bd7d1a782b77b7b8429d3f&q=`;\r\nconst baseUrl = `http://206.189.28.120:5000/search?q=`;\r\n\r\nconst getResults = (query) => {\r\n  const request = axios.get(`${baseUrl}${query}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getResults };\r\n","import axios from 'axios';\r\n\r\nconst cancelToken = axios.CancelToken.source();\r\n\r\nconst isCancel = error => {\r\n  return axios.isCancel(error);\r\n};\r\n\r\nexport default { cancelToken, isCancel };\r\n","import axios from 'axios';\r\n//const baseUrl = `https://pixabay.com/api/?key=15763483-e44bd7d1a782b77b7b8429d3f&q=`;\r\nconst baseUrl = `http://206.189.28.120:5000/titles/`;\r\n\r\nconst getTitle = (id) => {\r\n  const request = axios.get(`${baseUrl}${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getTitle };\r\n","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useState } from 'react';\r\nimport '../Search.css';\r\n\r\nconst SearchResult = ({ results, onItemClick }) => {\r\n  const [mVisible, setMVisible] = useState(4);\r\n  const [aVisible, setAVisible] = useState(4);\r\n  const [movies, setMovies] = useState(\r\n    results.filter((result) => result.charAt(0) === 't')\r\n  );\r\n  const [actors, setActors] = useState(\r\n    results.filter((result) => result.charAt(0) === 'n')\r\n  );\r\n\r\n  const loadMore = (type) => {\r\n    type === 'm' ? setMVisible(mVisible + 4) : setAVisible(aVisible + 4);\r\n  };\r\n\r\n  //kutsu näin: <ul>{mapActorResults()}</ul>\r\n  const mapResults = (data, visible) =>\r\n    data.slice(0, visible).map((res) => (\r\n      <li key={res}>\r\n        <p className='resultItem link' onClick={(e) => onItemClick(res, e)}>\r\n          {res}\r\n        </p>\r\n      </li>\r\n    ));\r\n\r\n  const resultDiv = (type, data, visibility) => (\r\n    <div>\r\n      <h2>{type}</h2>\r\n      <ul>{mapResults(data, visibility)}</ul>\r\n      {data && data.length > visibility ? (\r\n        <p\r\n          className='resultItem link'\r\n          onClick={() => (type === 'Movies' ? loadMore('m') : loadMore('n'))}\r\n        >\r\n          More results\r\n        </p>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className='results'>\r\n      {/* <div>\r\n        <h2>Movies</h2>\r\n        <ul>{mapMovieResults()}</ul>\r\n        {movies && movies.length > 4 ? (\r\n          <p className='resultItem link' onClick={() => loadMore('m')}>\r\n            More results\r\n          </p>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div> */}\r\n      {resultDiv('Movies', movies, mVisible)}\r\n      {resultDiv('Actors', actors, aVisible)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResult;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Logo from '../images/logo.png';\r\n\r\nconst Modal = ({ isShowing, hide, register }) => isShowing ? ReactDOM.createPortal(\r\n  <React.Fragment>\r\n    <div className='modal-overlay'/>\r\n    <div className='modal-wrapper' aria-modal aria-hidden tabIndex={-1} role='dialog'>\r\n      <div className='modal'>\r\n        <div className='modal-header'>\r\n          <img className='modal-logo' src={Logo} alt='logo'></img>\r\n          <button type='button' className='modal-close-button' data-dismiss='modal' aria-label='Close' onClick={hide}>\r\n            <span className='modal-span' aria-hidden='true'>&times;</span>\r\n          </button>\r\n        </div>\r\n        <div className='modal-email'>\r\n          <label className='email-label' htmlFor='email-input'> Email </label>\r\n              <input id='email-input'/>\r\n        </div>\r\n        <div className='modal-password'>\r\n          <label className='password-label' htmlFor='password-input'> Password </label>\r\n              <input id='password-input'/>\r\n        </div>\r\n        <div className={`modal-confirm${register ? '' : ' hide'}`}>\r\n          <label className='confirm-label' htmlFor='confirm-input'> Confirm password </label>\r\n          <input id='confirm-input'/>\r\n        </div>\r\n        <div className={`modal-button${register ? ' hide' : ''}`}>\r\n          <button id='modal-login'>Log in</button>\r\n        </div>\r\n        <div className={`modal-button${register ? '' : ' hide'}`}>\r\n          <button id='modal-register'>Register</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </React.Fragment>, document.body\r\n) : null;\r\n\r\nexport default Modal;\r\n","import { useState } from 'react';\r\n\r\nconst useModal = () => {\r\n  const [isShowing, setIsShowing] = useState(false);\r\n  const [register, setRegister] = useState(false);\r\n\r\n  function toggle(register) {\r\n    if(register) {\r\n      setRegister(true);\r\n    }\r\n    else {\r\n      setRegister(false);\r\n    }\r\n    setIsShowing(!isShowing);\r\n  }\r\n\r\n  return {\r\n    register,\r\n    isShowing,\r\n    toggle,\r\n  }\r\n};\r\n\r\nexport default useModal;\r\n","import React from 'react';\r\n\r\nconst MoviePage = ({ mov }) => {\r\n  /*  const mov = {\r\n    id: 12345,\r\n    titleType: 'title type',\r\n    primaryTitle: 'MOVIE 1',\r\n    originalTitle: 'original title',\r\n    isAdult: true,\r\n    startYear: 2017,\r\n    endYear: null,\r\n    runtimeMinutes: 190,\r\n    genres: ['genre1', 'genre2']\r\n  }; */\r\n\r\n  const runTimeToHours = () => {\r\n    const runtime = mov.runtimeminutes;\r\n    const hours = runtime / 60;\r\n    const rhours = Math.floor(hours);\r\n    const minutes = (hours - rhours) * 60;\r\n    const rminutes = Math.round(minutes);\r\n    return rhours + ' h ' + rminutes + ' min';\r\n  };\r\n\r\n  return (\r\n    <div className='movieHeader'>\r\n      <h2>{mov.primarytitle}</h2>\r\n      {mov.endyear ? (\r\n        <h3>\r\n          {mov.startyear} - {mov.endyear}\r\n        </h3>\r\n      ) : (\r\n        <h3>{mov.startyear}</h3>\r\n      )}\r\n      <div className='movieInfo'>\r\n        {runTimeToHours()} | {mov.genres.join(', ')}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MoviePage;\r\n","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useState } from 'react';\r\nimport '../Search.css';\r\nimport Loader from '../loader.gif';\r\nimport Logo from '../images/logo.png';\r\nimport Menu from '../images/menu.png';\r\nimport PageNavigation from './PageNavigation';\r\nimport searchService from '../services/searchResults';\r\nimport cancelService from '../services/cancel';\r\nimport titleService from '../services/titles';\r\nimport nameService from '../services/names';\r\nimport SearchResult from './SearchResult';\r\nimport Modal from \"./Modal\"\r\nimport useModal from \"./useModal\"\r\n\r\nimport MoviePage from './MoviePage';\r\nimport ActorPage from './ActorPage';\r\n\r\nconst Search = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [item, setItem] = useState(null);\r\n  const [itemType, setItemType] = useState('true');\r\n  const [cancel, setCancel] = useState('');\r\n  const [search, setSearch] = useState(false);\r\n\r\n  const {isShowing, toggle, register} = useModal();\r\n\r\n  /**\r\n   * Fetch the search results and update the state with the result.\r\n   * Also cancels the previous query before making the new one.\r\n   *\r\n   * @param {int} updatedPageNo Updated Page No.\r\n   * @param {String} query Search Query.\r\n   *\r\n   */\r\n  const fetchSearchResults = (updatedPageNo = '', query) => {\r\n    //const pageNumber = updatedPageNo ? `&page=${updatedPageNo}` : '';\r\n\r\n    if (cancel) {\r\n      cancel.cancel();\r\n    }\r\n\r\n    setCancel(cancelService.cancelToken);\r\n\r\n    searchService\r\n      .getResults(query)\r\n      .then((res) => {\r\n        const resultNotFoundMsg = !res.results.length\r\n          ? 'ei oo mitään muuta'\r\n          : '';\r\n        setResults(res.results);\r\n        setMessage(resultNotFoundMsg);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        if (cancelService.isCancel(error) || error) {\r\n          setLoading(false);\r\n          setMessage('EI LÖYTYNY DATAA fetchSearchResults');\r\n        }\r\n      });\r\n  };\r\n\r\n  /**\r\n   * When enter is pressed search results will be fetched\r\n   */\r\n  const handleOnInputChange = (event) => {\r\n    if (event.keyCode === '13' || event.key === 'Enter') {\r\n      const query = event.target.value;\r\n\r\n      if (!query) {\r\n        setResults({});\r\n        setMessage('');\r\n      } else {\r\n        setLoading(true);\r\n        setMessage('');\r\n        setSearch(true);\r\n        fetchSearchResults(1, query);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    const query = document.getElementById(`search-input${search ? '-up' : '-down'}`).value;\r\n      if (!query) {\r\n        setResults({});\r\n        setMessage('');\r\n      } else {\r\n        setLoading(true);\r\n        setMessage('');\r\n        setSearch(true);\r\n        fetchSearchResults(1, query);\r\n      }\r\n  }\r\n\r\n  /**\r\n   * Fetch results according to the prev or next page requests.\r\n   *\r\n   * @param {String} type 'prev' or 'next'\r\n   */\r\n  const handlePageClick = (type) => {\r\n    //event.preventDefault();\r\n    if (!loading) {\r\n      setLoading(true);\r\n      setMessage('');\r\n      fetchSearchResults(query);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * shows current item's information\r\n   *\r\n   */\r\n  const showItem = () => {\r\n    if (itemType === 'movie' || 'short' || 'tvseries') {\r\n      console.log('movie');\r\n      return (\r\n        <>\r\n          <button onClick={() => setItem(null)}>back</button>\r\n          <MoviePage mov={item} />\r\n        </>\r\n      );\r\n    } else {\r\n      return <ActorPage actor={item} />;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Eventhandler for clicking search results\r\n   * Gets a movie element and sets it to item and updates isMovie\r\n   *\r\n   * @param {String} itemId items id ie. tt12456\r\n   * @param {Boolean} isMovie true if item is movie, false is not.\r\n   * @param {event} e default event when item is clicked\r\n   *\r\n   */\r\n  const itemUpdate = (itemId, e) => {\r\n    e.preventDefault();\r\n    if (itemId.charAt(0) === 't') {\r\n      titleService\r\n        .getTitle(itemId)\r\n        .then((res) => {\r\n          setItem(res);\r\n          setItemType(res.titletype.trim());\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => {\r\n          if (cancelService.isCancel(error) || error) {\r\n            setLoading(false);\r\n            setMessage('EI LÖYTYNY DATAA itemupdate');\r\n            console.log('itemupdaterror', error);\r\n          }\r\n        });\r\n    } else {\r\n      //TODO: /names/id:stä hakeminen\r\n\r\n      console.log(\"Choosing a name doesn't work yet, choose a title instead\");\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Displays search results on the page\r\n   */\r\n  const showSearchResults = () => {\r\n    if (Object.keys(results).length && results.length) {\r\n      return (\r\n        <>\r\n          <SearchResult results={results} onItemClick={itemUpdate} />;\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * event handler for clicking on menu\r\n\r\n   * TODO: correct functionality\r\n\r\n   */\r\n  const handleMenu = () => {\r\n    setSearch(false);\r\n    setResults({});\r\n  };\r\n\r\n  /**\r\n   * handle popup-toggling between register and login\r\n   * @param {*} event default event when button is clicked\r\n   */\r\n  const handleToggle = (event) => {\r\n    if (event.currentTarget.id === 'register') {\r\n      toggle(true)\r\n    }\r\n    else {\r\n      toggle(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      {/*\tHeading*/}\r\n      <div className={`header${search ? '-up' : '-down'}`}>\r\n        {/* Header left */}\r\n        <div className={`header-left${search ? '-up' : '-down'}`}>\r\n          <img className={`menu${search ? '' : ' hide'}`} src={Menu} alt='menu' onClick={handleMenu} />\r\n        </div>\r\n        {/* Header middle */}\r\n        <div className={`header-middle${search ? '-up' : '-down'}`}>\r\n          <div className={`${search ? 'hide' : 'logo-text'}`}>\r\n            <img className='logo' src={Logo} alt='Logo'></img>\r\n            <p className='text'>Reel in the movies</p>\r\n          </div>\r\n          {/* Search Input*/}\r\n          <div className='search-bar'>\r\n            <label className='search-label' htmlFor='search-input'>\r\n              <input\r\n                type='text'\r\n                name='query'\r\n                id={`search-input${search ? '-up' : '-down'}`}\r\n                onKeyDown={handleOnInputChange}\r\n              />\r\n              {/*TODO: Button search-function*/}\r\n              <button id={`search-button${search ? '-up' : '-down'}`}\r\n              onClick={handleSearch}>\r\n                <i className='fa fa-search'></i>\r\n              </button>\r\n            </label>\r\n          </div>\r\n        </div>\r\n        {/* Header right */}\r\n        <div className={`header-right${search ? '-up' : '-down'}`}>\r\n          <button id='register' onClick={handleToggle}>Register</button>\r\n          <button id='login' onClick={handleToggle}>Log in</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*Pop-up*/}\r\n      <Modal isShowing={isShowing}  hide={toggle} register={register}/>\r\n\r\n      {/*\tError Message*/}\r\n      {message && <p className='message'>{message}</p>}\r\n\r\n      {/*\tLoader*/}\r\n      <img\r\n        src={Loader}\r\n        className={`search-loading ${loading ? 'show' : 'hide'}`}\r\n        alt='loader'\r\n      />\r\n      {/* Results or MoviePage */}\r\n      {item === null ? showSearchResults() : showItem()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport Search from './components/Search';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Search />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}